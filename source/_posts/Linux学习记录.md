---
title: Linux学习记录
date: 2016-09-15 22:42:28
tags: Linux 
---
# 1 远程登录：
```bash 
ssh username@host
```
# 2 用户
##   2.1 切换用户

>切换到root用户：
* su ：切换用户状态，但不切换终端
* su -：切换用户状态，并切换终端
* sudo：使用管理员用户身份运行命令

>切换到普通用户：
* su username
* su - username

## 2.2查看用户信息
* id：显示当前用户信息
* passwd：修改当前用户密码



# 3 基本命令
## 3.1 补全
* tab一次补全命令(不能补全参数)
* tab两次列出以输入字符开头的命令

## 3.2 重复操作
* !!或上键：重复上次操作
* !字符：重复前一个以‘字符’开头的命令
* !数字：按历史记录序号执行命令
* !?abc:重复之前包含abc的命令
* !-n:重复n个命令之前的那个命令
一般在编写脚本的时候使用。

## 3.3 通配符
* `*`匹配0个或多个
* `?`匹配任意一个字符
* `[0-9]`匹配一个数字范围
* `[abc]`匹配列表里（abc）任意字符
* `[^abc]`匹配列表以外任意字符

## 3.4 快捷键
* Ctrl+r 历史命令搜索
* esc . 调用前一个命令的参数

# 4 BASH作业管理
* &：在命令后加`&`表示后台运行此程序
* Ctrl+z：暂停某程序运行
* sleep 时间参数:
* jobs：查看当前正在运行的进程
* bg 数字：恢复运行
* fg 数字：将后台作业拉回前台来

# 5 Linux文件系统结构

* Linux系统作为一个倒转的单根树状结构
* 文件根为`/`
* 文件系统严格区分大小写
* 路径使用`/`分割（windows使用`\`分割）


## 5.1 目录
* pwd：显示当前目录

## 5.2 文件名称
* 文件名称大小写敏感
* 名称最多255个字符
* 除`/`以外都是有效字符
* 通过touch命令创建和更新文件(更新文件创建时间)
* 以`.`开头的文件是隐藏文件
* 隐藏文件多数是配置文件
* file 查看文件类型
* ls参数：
  1. -a 所有文件（包括隐藏文件、目录）
  2. -l 以列表形式显示非隐藏文件、目录的详细信息
  3. -R 以结构化形式递归显示目录的子目录结构
  4. ld 显示目录的信息

## 5.3 路径使用
1. 绝对路径：以`/`开始，递归每级，不受当前工作路径限制  
2. 相对路径：以当前目录为起点受当前工作路径限制
3. 当前目录：.
4. 上级目录：..
5. 家目录：~ （cd）
6. 上一个工作目录：-
在写脚本的时候一般使用绝对路径

## 5.4 文件、目录操作
* cp：复制文件、目录（使用：cp 【参数】 源 目标目录）
  -r 递归复制复制文件夹
  -v 显示复制过程详细信息（使用：cp 【参数】 源 目标目录）
* mv： 移动、重命名（使用：cp 【参数】 源 目标目录/newname）不指定目录就是在当前目录重命名
* rm：删除
  1. -r递归删除文件夹子目录
  2. -i交互式递归删除
  3. -f强制删除所有，掩盖-i参数
* mkdir：创建目录
* rmdir：删除目录（不能删除非空目录，删除非空目录使用rm -r）

# Linux系统目录
## bin
* 常用的可执行的二进制文件，所有用户都有权限执行

## boot
* 引导目录（系统启动）
* vmlinuz是操作系统内核（uname命令可看到相关信息）

## dev
* 被抽象成文件的计算机上所有硬件设备（sd：硬盘 tty：终端）

## etc
* 配置文件
* 纯文本文件

## home
* 家目录 
* 保存每个用户的家目录（用户私有文件）

## root
* root用户的家目录

## lib
* 程序运行的库文件（相当于windows里的.dll文件）

## media mnt
* 挂载文件夹

## opt
* 通常用来装大型软件

## proc 
* 系统的实时信息
* 不存在于硬盘上，只存在于内存
* 虚拟文件夹
* cpu信息：cpuinfo
* 内存信息：meminfo
* 以数字命名的文件夹对应每一个进程
* 查看I/O、启动时间、硬盘参数、电源……

## sbin
* 只有root用户才能执行

## selinux
* 安全机制相关

## sys
* 系统底层信息

## tmp
* 临时目录
* 定时自动删除

## user
* 一般应用软件安装位置

## var
* 通常保存服务器信息
* log操作系统日志信息
* 一般保存变化的信息
* 例如邮件

# 6 常用命令

## 日期时间
 1. date 当前系统时间
 2. date -u 
 3. date +%Y--%m--%d+格式化显示时间（`--`可以随意定义）
 4. date -s 设置时间
 5. hwclock(click) 硬件时间
 6. cal 日历
 7. uptime 查看系统运行时间、系统负载（1m 5m 10m）
## 输出、查看
 1. echo 输出
 2. cat 查看文件内容
 3. more 翻页形式显示文件，只能向下翻页（空格）
 4. less 翻页形式显示文件，能上下翻页（上下键、pageup/down）
 5. head 显示文件前几行（默认10行，可用-n指定）
 6. tail 显示文件后几行（默认10行，可用-n指定 -f追踪显示文件更新，一般用于查看日志）
 ## 硬件信息
  1. lspci 查看pci设备(-v 详细信息)
  2. lsusb 查看USB设备(-v 详细信息)
  3. lsmod 查看加载的模块（驱动）
## 关机、重启
 1. shutdown 
    > -h 关机
    > -r 重启
    > -h now 立即关机
    > -h +10 十分钟之后关机
    > -h 20:20 20:2关机
 2. poweroff 立即关机
 3. reboot 立即重启

## 归档 压缩
 1. zip 文件名  压缩文件
 2. unzip 文件名 解压
 3. gziip 文件名 压缩 
 4. tar 归档命令（打包文件）
  > tar -cvf 文件包名（.tar） 打包文件 归档
  > tar -xvf 文件包名（.tar）  解归档
  > tar -cvzf 文件包名（.tar.gz）归档后压缩
## 查找
1. locate 关键字 此命令需要预先建立数据库 数据库默认更新一次，通过updatedb手动更新数据库（新创建文件查不到，需要先更细）
2. find 查找位置 查找参数（保证实时性，速度慢）
 > . -name*linux* 查找当前所有文件名包含linux的文件
 > .name*.conf 文件后缀查找
 > /-perm777 所有权限是777的文件
 > /-type d 查找目录
 > /-type l 查找链接
 > .name "a*"-exec ls -l{};将当前目录下名以a开头的文件作为参数传递给ls -l
```bash
-name 文件名称
-perm 基于权限
-user 基于用户
-group 基于组
-ctime 基于修改时间
-type 基于类型
-size 基于文件大小
```









